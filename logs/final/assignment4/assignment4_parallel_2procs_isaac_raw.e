Can't locate local/lib.pm in @INC (you may need to install the local::lib module) (@INC contains: /nics/b/home/kgeorgio/perl5/lib/perl5 /opt/moab/lib/perl5 /opt/moab/lib/perl5 /nics/e/sw/cs400_centos7.3_acfsoftware/anaconda3/4.4.0/centos7.3_gnu6.3.0/anaconda3-4.4.0/lib/site_perl/5.26.2/x86_64-linux-thread-multi /nics/e/sw/cs400_centos7.3_acfsoftware/anaconda3/4.4.0/centos7.3_gnu6.3.0/anaconda3-4.4.0/lib/site_perl/5.26.2 /nics/e/sw/cs400_centos7.3_acfsoftware/anaconda3/4.4.0/centos7.3_gnu6.3.0/anaconda3-4.4.0/lib/5.26.2/x86_64-linux-thread-multi /nics/e/sw/cs400_centos7.3_acfsoftware/anaconda3/4.4.0/centos7.3_gnu6.3.0/anaconda3-4.4.0/lib/5.26.2 .).
BEGIN failed--compilation aborted.
++ head -n 1 /var/spool/torque/aux//4767416.apollo-acf
+ export MASTER_ADDR=acf-sc100
+ MASTER_ADDR=acf-sc100
+ export MASTER_PORT=45678
+ MASTER_PORT=45678
+ cd /lustre/haven/proj/UTK0150/kgeorgio/playground/assignment4
+ CONDA_BIN=/nics/b/home/kgeorgio/.conda/envs/dse512_playground/bin/
+ conf=/lustre/haven/proj/UTK0150/kgeorgio/playground/confs/assignment4_parallel_2.yml
+ log=/lustre/haven/proj/UTK0150/kgeorgio/playground/logs/assignment4.log
+ command='/nics/b/home/kgeorgio/.conda/envs/dse512_playground/bin/python assignment4.py -c /lustre/haven/proj/UTK0150/kgeorgio/playground/confs/assignment4_parallel_2.yml -l /lustre/haven/proj/UTK0150/kgeorgio/playground/logs/assignment4.log'
+ eval /nics/b/home/kgeorgio/.conda/envs/dse512_playground/bin/python assignment4.py -c /lustre/haven/proj/UTK0150/kgeorgio/playground/confs/assignment4_parallel_2.yml -l /lustre/haven/proj/UTK0150/kgeorgio/playground/logs/assignment4.log
++ /nics/b/home/kgeorgio/.conda/envs/dse512_playground/bin/python assignment4.py -c /lustre/haven/proj/UTK0150/kgeorgio/playground/confs/assignment4_parallel_2.yml -l /lustre/haven/proj/UTK0150/kgeorgio/playground/logs/assignment4.log
2021-04-23 15:24:51 FancyLogger  INFO     [1m[37mLogger is set. Log file path: /lustre/haven/proj/UTK0150/kgeorgio/playground/logs/assignment4.log[0m
2021-04-23 15:24:51 Main         INFO     [1m[33mStarting Assignment 4[0m
2021-04-23 15:24:51 Config       INFO     [1m[37mConfiguration file loaded successfully[0m
2021-04-23 15:24:51 Main         INFO     [1m[33m//nics/b/home/kgeorgio/.conda/envs/dse512_playground/bin/mpirun -n 2 /nics/b/home/kgeorgio/.conda/envs/dse512_playground/bin/python /lustre/haven/proj/UTK0150/kgeorgio/playground/assignment4/cnn_runner.py --dataset-name mnist --dataset-path ../data/mnist -ep 30 -btr 128 -bte 1000 -lr 0.05 -mo 0.5 -l /lustre/haven/proj/UTK0150/kgeorgio/playground/logs/assignment4_data_parallel_2nprocs.log [0m
2021-04-23 15:24:54 FancyLogger  INFO     [1m[37mLogger is set. Log file path: /lustre/haven/proj/UTK0150/kgeorgio/playground/logs/assignment4_data_parallel_2nprocs.log[0m
2021-04-23 15:24:54 CnnRunner    INFO     [1m[32mModel parameters are configured.[0m
2021-04-23 15:24:54 CnnRunner    INFO     [1m[32mDevice: cpu[0m
2021-04-23 15:24:54 CnnRunner    INFO     [1m[32mModel Architecture:
LeNet5(
  (conv_1): Conv2d(1, 6, kernel_size=(5, 5), stride=(1, 1))
  (conv_2): Conv2d(6, 16, kernel_size=(5, 5), stride=(1, 1))
  (conv_3): Conv2d(16, 120, kernel_size=(5, 5), stride=(1, 1))
  (linear_1): Linear(in_features=120, out_features=84, bias=True)
  (linear_2): Linear(in_features=84, out_features=10, bias=True)
)[0m
2021-04-23 15:24:54 CnnRunner    INFO     [1m[32mMnist dataset loaded successfully.[0m
2021-04-23 15:24:54 CnnRunner    INFO     [1m[32mData Parallel mode with 2 proc(s) requested..[0m
2021-04-23 15:24:54 CnnRunner    INFO     [1m[32mWorld size: 2[0m
Training Epochs:   0%|          | 0/30 [00:00<?, ?it/s]Training Epochs:   0%|          | 0/30 [00:12<?, ?it/s, epoch_accuracy=0.716, epoch_loss=0.886, epoch_time=12.1]Training Epochs:   3%|â–Ž         | 1/30 [00:12<05:50, 12.09s/it, epoch_accuracy=0.716, epoch_loss=0.886, epoch_time=12.1]Training Epochs:   3%|â–Ž         | 1/30 [00:24<05:50, 12.09s/it, epoch_accuracy=0.943, epoch_loss=0.19, epoch_time=11.9] Training Epochs:   7%|â–‹         | 2/30 [00:24<05:35, 11.99s/it, epoch_accuracy=0.943, epoch_loss=0.19, epoch_time=11.9]Training Epochs:   7%|â–‹         | 2/30 [00:35<05:35, 11.99s/it, epoch_accuracy=0.963, epoch_loss=0.122, epoch_time=11.9]Training Epochs:  10%|â–ˆ         | 3/30 [00:35<05:23, 11.97s/it, epoch_accuracy=0.963, epoch_loss=0.122, epoch_time=11.9]Training Epochs:  10%|â–ˆ         | 3/30 [00:47<05:23, 11.97s/it, epoch_accuracy=0.973, epoch_loss=0.091, epoch_time=11.9]Training Epochs:  13%|â–ˆâ–Ž        | 4/30 [00:47<05:10, 11.94s/it, epoch_accuracy=0.973, epoch_loss=0.091, epoch_time=11.9]Training Epochs:  13%|â–ˆâ–Ž        | 4/30 [00:59<05:10, 11.94s/it, epoch_accuracy=0.978, epoch_loss=0.0725, epoch_time=11.9]Training Epochs:  17%|â–ˆâ–‹        | 5/30 [00:59<04:58, 11.92s/it, epoch_accuracy=0.978, epoch_loss=0.0725, epoch_time=11.9]Training Epochs:  17%|â–ˆâ–‹        | 5/30 [01:11<04:58, 11.92s/it, epoch_accuracy=0.982, epoch_loss=0.0598, epoch_time=12.1]Training Epochs:  20%|â–ˆâ–ˆ        | 6/30 [01:11<04:47, 11.98s/it, epoch_accuracy=0.982, epoch_loss=0.0598, epoch_time=12.1]Training Epochs:  20%|â–ˆâ–ˆ        | 6/30 [01:24<04:47, 11.98s/it, epoch_accuracy=0.985, epoch_loss=0.0505, epoch_time=12.6]Training Epochs:  23%|â–ˆâ–ˆâ–Ž       | 7/30 [01:24<04:40, 12.18s/it, epoch_accuracy=0.985, epoch_loss=0.0505, epoch_time=12.6]Training Epochs:  23%|â–ˆâ–ˆâ–Ž       | 7/30 [01:36<04:40, 12.18s/it, epoch_accuracy=0.987, epoch_loss=0.0429, epoch_time=11.9]Training Epochs:  27%|â–ˆâ–ˆâ–‹       | 8/30 [01:36<04:26, 12.10s/it, epoch_accuracy=0.987, epoch_loss=0.0429, epoch_time=11.9]Training Epochs:  27%|â–ˆâ–ˆâ–‹       | 8/30 [01:48<04:26, 12.10s/it, epoch_accuracy=0.989, epoch_loss=0.0359, epoch_time=12]  Training Epochs:  30%|â–ˆâ–ˆâ–ˆ       | 9/30 [01:48<04:13, 12.06s/it, epoch_accuracy=0.989, epoch_loss=0.0359, epoch_time=12]Training Epochs:  30%|â–ˆâ–ˆâ–ˆ       | 9/30 [02:00<04:13, 12.06s/it, epoch_accuracy=0.99, epoch_loss=0.0316, epoch_time=12.1]Training Epochs:  33%|â–ˆâ–ˆâ–ˆâ–Ž      | 10/30 [02:00<04:01, 12.07s/it, epoch_accuracy=0.99, epoch_loss=0.0316, epoch_time=12.1]Training Epochs:  33%|â–ˆâ–ˆâ–ˆâ–Ž      | 10/30 [02:12<04:01, 12.07s/it, epoch_accuracy=0.992, epoch_loss=0.0265, epoch_time=12.5]Training Epochs:  37%|â–ˆâ–ˆâ–ˆâ–‹      | 11/30 [02:12<03:51, 12.20s/it, epoch_accuracy=0.992, epoch_loss=0.0265, epoch_time=12.5]Training Epochs:  37%|â–ˆâ–ˆâ–ˆâ–‹      | 11/30 [02:24<03:51, 12.20s/it, epoch_accuracy=0.994, epoch_loss=0.0232, epoch_time=12]  Training Epochs:  40%|â–ˆâ–ˆâ–ˆâ–ˆ      | 12/30 [02:24<03:38, 12.12s/it, epoch_accuracy=0.994, epoch_loss=0.0232, epoch_time=12]Training Epochs:  40%|â–ˆâ–ˆâ–ˆâ–ˆ      | 12/30 [02:36<03:38, 12.12s/it, epoch_accuracy=0.994, epoch_loss=0.0195, epoch_time=11.9]Training Epochs:  43%|â–ˆâ–ˆâ–ˆâ–ˆâ–Ž     | 13/30 [02:36<03:25, 12.06s/it, epoch_accuracy=0.994, epoch_loss=0.0195, epoch_time=11.9]Training Epochs:  43%|â–ˆâ–ˆâ–ˆâ–ˆâ–Ž     | 13/30 [02:48<03:25, 12.06s/it, epoch_accuracy=0.995, epoch_loss=0.0173, epoch_time=11.9]Training Epochs:  47%|â–ˆâ–ˆâ–ˆâ–ˆâ–‹     | 14/30 [02:48<03:12, 12.01s/it, epoch_accuracy=0.995, epoch_loss=0.0173, epoch_time=11.9]Training Epochs:  47%|â–ˆâ–ˆâ–ˆâ–ˆâ–‹     | 14/30 [03:00<03:12, 12.01s/it, epoch_accuracy=0.994, epoch_loss=0.0175, epoch_time=11.9]Training Epochs:  50%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     | 15/30 [03:00<02:59, 11.98s/it, epoch_accuracy=0.994, epoch_loss=0.0175, epoch_time=11.9]Training Epochs:  50%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     | 15/30 [03:12<02:59, 11.98s/it, epoch_accuracy=0.996, epoch_loss=0.0143, epoch_time=11.9]Training Epochs:  53%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Ž    | 16/30 [03:12<02:47, 11.95s/it, epoch_accuracy=0.996, epoch_loss=0.0143, epoch_time=11.9]Training Epochs:  53%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Ž    | 16/30 [03:24<02:47, 11.95s/it, epoch_accuracy=0.997, epoch_loss=0.0115, epoch_time=11.9]Training Epochs:  57%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‹    | 17/30 [03:24<02:35, 11.94s/it, epoch_accuracy=0.997, epoch_loss=0.0115, epoch_time=11.9]Training Epochs:  57%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‹    | 17/30 [03:36<02:35, 11.94s/it, epoch_accuracy=0.998, epoch_loss=0.0101, epoch_time=11.9]Training Epochs:  60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 18/30 [03:36<02:23, 11.93s/it, epoch_accuracy=0.998, epoch_loss=0.0101, epoch_time=11.9]Training Epochs:  60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 18/30 [03:48<02:23, 11.93s/it, epoch_accuracy=0.998, epoch_loss=0.00862, epoch_time=11.9]Training Epochs:  63%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Ž   | 19/30 [03:48<02:11, 11.92s/it, epoch_accuracy=0.998, epoch_loss=0.00862, epoch_time=11.9]Training Epochs:  63%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Ž   | 19/30 [04:00<02:11, 11.92s/it, epoch_accuracy=0.995, epoch_loss=0.0198, epoch_time=11.9] Training Epochs:  67%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‹   | 20/30 [04:00<01:59, 11.91s/it, epoch_accuracy=0.995, epoch_loss=0.0198, epoch_time=11.9]Training Epochs:  67%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‹   | 20/30 [04:11<01:59, 11.91s/it, epoch_accuracy=0.997, epoch_loss=0.011, epoch_time=11.9] Training Epochs:  70%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   | 21/30 [04:11<01:47, 11.89s/it, epoch_accuracy=0.997, epoch_loss=0.011, epoch_time=11.9]Training Epochs:  70%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   | 21/30 [04:23<01:47, 11.89s/it, epoch_accuracy=0.998, epoch_loss=0.00646, epoch_time=11.9]Training Epochs:  73%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Ž  | 22/30 [04:23<01:35, 11.89s/it, epoch_accuracy=0.998, epoch_loss=0.00646, epoch_time=11.9]Training Epochs:  73%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Ž  | 22/30 [04:35<01:35, 11.89s/it, epoch_accuracy=0.999, epoch_loss=0.00458, epoch_time=11.9]Training Epochs:  77%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‹  | 23/30 [04:35<01:23, 11.89s/it, epoch_accuracy=0.999, epoch_loss=0.00458, epoch_time=11.9]Training Epochs:  77%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‹  | 23/30 [04:47<01:23, 11.89s/it, epoch_accuracy=0.998, epoch_loss=0.00813, epoch_time=11.9]Training Epochs:  80%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  | 24/30 [04:47<01:11, 11.89s/it, epoch_accuracy=0.998, epoch_loss=0.00813, epoch_time=11.9]Training Epochs:  80%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  | 24/30 [04:59<01:11, 11.89s/it, epoch_accuracy=0.999, epoch_loss=0.00411, epoch_time=11.9]Training Epochs:  83%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Ž | 25/30 [04:59<00:59, 11.89s/it, epoch_accuracy=0.999, epoch_loss=0.00411, epoch_time=11.9]Training Epochs:  83%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Ž | 25/30 [05:11<00:59, 11.89s/it, epoch_accuracy=1, epoch_loss=0.00307, epoch_time=11.9]    Training Epochs:  87%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‹ | 26/30 [05:11<00:47, 11.89s/it, epoch_accuracy=1, epoch_loss=0.00307, epoch_time=11.9]Training Epochs:  87%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‹ | 26/30 [05:23<00:47, 11.89s/it, epoch_accuracy=0.999, epoch_loss=0.00258, epoch_time=11.9]Training Epochs:  90%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ | 27/30 [05:23<00:35, 11.89s/it, epoch_accuracy=0.999, epoch_loss=0.00258, epoch_time=11.9]Training Epochs:  90%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ | 27/30 [05:35<00:35, 11.89s/it, epoch_accuracy=0.998, epoch_loss=0.00583, epoch_time=11.9]Training Epochs:  93%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Ž| 28/30 [05:35<00:23, 11.90s/it, epoch_accuracy=0.998, epoch_loss=0.00583, epoch_time=11.9]Training Epochs:  93%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Ž| 28/30 [05:47<00:23, 11.90s/it, epoch_accuracy=0.999, epoch_loss=0.00301, epoch_time=11.9]Training Epochs:  97%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‹| 29/30 [05:47<00:11, 11.90s/it, epoch_accuracy=0.999, epoch_loss=0.00301, epoch_time=11.9]Training Epochs:  97%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‹| 29/30 [05:58<00:11, 11.90s/it, epoch_accuracy=1, epoch_loss=0.00136, epoch_time=11.9]    Training Epochs: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 30/30 [05:58<00:00, 11.90s/it, epoch_accuracy=1, epoch_loss=0.00136, epoch_time=11.9]Training Epochs: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 30/30 [05:58<00:00, 11.97s/it, epoch_accuracy=1, epoch_loss=0.00136, epoch_time=11.9]
2021-04-23 15:30:53 CnnRunner    INFO     [1m[35mTraining Finished! Results:[0m
Testing: 0it [00:00, ?it/s]Testing: 0it [00:00, ?it/s, test_loss_accum=0.107]Testing: 1it [00:00,  3.66it/s, test_loss_accum=0.107]Testing: 1it [00:00,  3.66it/s, test_loss_accum=0.152]Testing: 2it [00:00,  3.77it/s, test_loss_accum=0.152]Testing: 2it [00:00,  3.77it/s, test_loss_accum=0.2]  Testing: 3it [00:00,  3.82it/s, test_loss_accum=0.2]Testing: 3it [00:01,  3.82it/s, test_loss_accum=0.287]Testing: 4it [00:01,  3.84it/s, test_loss_accum=0.287]Testing: 4it [00:01,  3.84it/s, test_loss_accum=0.348]Testing: 5it [00:01,  3.86it/s, test_loss_accum=0.348]Testing: 5it [00:01,  3.86it/s, test_loss_accum=0.448]Testing: 6it [00:01,  3.88it/s, test_loss_accum=0.448]Testing: 6it [00:01,  3.88it/s, test_loss_accum=0.474]Testing: 7it [00:01,  3.85it/s, test_loss_accum=0.474]Testing: 7it [00:02,  3.85it/s, test_loss_accum=0.541]Testing: 8it [00:02,  3.86it/s, test_loss_accum=0.541]Testing: 8it [00:02,  3.86it/s, test_loss_accum=0.631]Testing: 9it [00:02,  3.87it/s, test_loss_accum=0.631]Testing: 9it [00:02,  3.87it/s, test_loss_accum=0.69] Testing: 10it [00:02,  3.88it/s, test_loss_accum=0.69]                                                      2021-04-23 15:30:55 CnnRunner    INFO     [1m[34mTesting Finished! Storing results..[0m
2021-04-23 15:30:55 CnnRunner    INFO     [1m[34mTest Loss: 6.898393630981446e-05[0m
2021-04-23 15:30:55 CnnRunner    INFO     [1m[34mCorrect/Total : 9863/10000[0m
2021-04-23 15:30:55 CnnRunner    INFO     [1m[34mAccuracy: 98.63%[0m
Testing: 0it [00:00, ?it/s]Testing: 0it [00:00, ?it/s, test_loss_accum=0.0977]Testing: 1it [00:00,  2.91it/s, test_loss_accum=0.0977]Testing: 1it [00:00,  2.91it/s, test_loss_accum=0.14]  Testing: 2it [00:00,  3.00it/s, test_loss_accum=0.14]Testing: 2it [00:00,  3.00it/s, test_loss_accum=0.223]Testing: 3it [00:00,  3.12it/s, test_loss_accum=0.223]Testing: 3it [00:01,  3.12it/s, test_loss_accum=0.303]Testing: 4it [00:01,  3.18it/s, test_loss_accum=0.303]Testing: 4it [00:01,  3.18it/s, test_loss_accum=0.385]Testing: 5it [00:01,  3.19it/s, test_loss_accum=0.385]Testing: 5it [00:01,  3.19it/s, test_loss_accum=0.464]Testing: 6it [00:01,  3.22it/s, test_loss_accum=0.464]Testing: 6it [00:02,  3.22it/s, test_loss_accum=0.527]Testing: 7it [00:02,  3.24it/s, test_loss_accum=0.527]Testing: 7it [00:02,  3.24it/s, test_loss_accum=0.583]Testing: 8it [00:02,  3.26it/s, test_loss_accum=0.583]Testing: 8it [00:02,  3.26it/s, test_loss_accum=0.696]Testing: 9it [00:02,  3.24it/s, test_loss_accum=0.696]Testing: 9it [00:03,  3.24it/s, test_loss_accum=0.753]Testing: 10it [00:03,  3.26it/s, test_loss_accum=0.753]                                                       2021-04-23 15:31:39 Main         INFO     [1m[33mAssignment 4 Finished[0m
2021-04-23 15:31:39 Timeit       INFO     [1m[37mFunc: 'main' with args: () took: 408.16702 sec(s)[0m
+ qstat -f 4767416.apollo-acf
